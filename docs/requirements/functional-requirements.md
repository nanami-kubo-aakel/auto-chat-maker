# 機能要件

## 主な機能一覧

### 3.1 メール検知

* Graph API の `change notifications (webhook)` を使い、Outlook Inbox の新着メールをリアルタイムに検知
* サブスクリプションの有効期限は定期更新（例：60分ごと）

### 3.2 MCP経由のメール取得

* `ms-365-mcp-server` を通じて、対象メールの本文・差出人・スレッド情報を取得

### 3.3 AIによる返信判断・案生成

* Claude APIなどと接続し、メール本文に対して以下を実施：

  * 返信が必要かどうかを判断
  * 必要と判断された場合は、3件程度の返信案を自然文で生成

### 3.4 ユーザー通知・UI表示

* ユーザーへ通知（Web/モバイル等）
* 各返信案をボタンまたは一覧形式で提示
* ユーザーが案を選択 or 修正入力できるチャットUIを提供

### 3.5 MCP経由のメール返信送信

* ユーザーが確定した返信内容をもとに、MCP経由で `mail.reply` を実行し、Outlookにメールを返信

## 更新履歴

- 初版作成: 2024年12月
- 最終更新: 2024年12月
- 更新者: 開発チーム 